<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>新词发现整理</title>
      <link href="/2022/11/20/%E6%96%B0%E8%AF%8D%E5%8F%91%E7%8E%B0%E6%95%B4%E7%90%86/"/>
      <url>/2022/11/20/%E6%96%B0%E8%AF%8D%E5%8F%91%E7%8E%B0%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>快消的业务方提出了需求：希望能够通过电商平台的宝贝标题文本数据，挖掘不同商家推出的新的概念或者以此发现一些新的概念，如护肤概念的早c晚a</p><h2 id="业务-gt-技术"><a href="#业务-gt-技术" class="headerlink" title="业务-&gt;技术"></a>业务-&gt;技术</h2><ul><li>交付<br>概念呈现的方式是词。而新就包含了时间的概念，必须要指定“新”这个概念开始的时间</li><li>数据<br>形如“雅诗兰黛第七代小棕瓶精华面部精华淡纹修护律波肽收缩毛孔”。发现相对于传统的中文数据，宝贝标题数据有以下特点：1）不存在主谓宾等语法限制，是多个词块的直接拼接；2）包含品牌、系列、产品、成分、功效等</li></ul><p>因此，一般的ner方法是用不了了，因为假设我们现在标注了“早c晚a”为新词，而可能2个月后大家都在说，那么“早c晚a”也就不新了。关键词抽取就更不谈了，关键≠新。因此，比较合适的方法就是将文本中的词都找出来，然后将当前时间段的结果，减去已有的词，留下的即为新词</p><h1 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h1><h2 id="新词发现"><a href="#新词发现" class="headerlink" title="新词发现"></a>新词发现</h2><p>使用新词发现技术的人，最绕不开的就是这篇博客<a href="http://www.matrix67.com/blog/archives/5044">《互联网时代的社会语言学：基于SNS的文本数据挖掘》</a>。在这篇博客中，原博作者从统计学角度去描述一个词：词内部的字符搭配较为固定，而词的头和尾与外部的字符搭配较为多样。具体的例子就是，在快消领域中当我们看到“烟酰”时，我们的第一反应会是“烟酰胺”，除此以外我们很少能想到其他的组合。而看到“烟酰胺”时，我们却很难判断前后是什么词，可能是“含烟酰胺”，“涂烟酰胺”，“用烟酰胺”等等很多不同的组合。而这种“很少”与“很多”就可以通过语料统计出来，这两种特征原博作者分别称之为“凝固度”和“自由度”</p><ul><li>凝固度<br>$$<br>min(\frac{p(abc)}{p(a)p(bc)},\frac{p(abc)}{p(ab)p(c)})<br>$$<br>n-gram就对比n-1种切分方式。当词的长度超过2时，就有不同的切分，同时考虑多种切分是为了避免，错误的切分方式高估了词的凝固度。如“的电影”，其中p(的)是非常大的</li><li>自由度改<br>$$<br>min(EL, ER)\<br>$$<br>其中：<br>$$<br>EL &#x3D; Entropy_{left}(string) &#x3D; \sum_{w_{i}\in{W_{m}}}p(w_{i}|string)log_{e}p(w_{i}|string)\<br>ER &#x3D; Entropy_{left}(string) &#x3D; \sum_{w_{i}\in{W_{n}}}p(w_{i}|string)log_{e}p(w_{i}|string)\<br>$$<br>即词与外界的搭配，可以看到词有左边界与右边界，因此存在左邻字集合与右邻字集合。我们使用信息熵来衡量一个文本片段与外部的搭配有多么随机</li></ul><h2 id="回溯"><a href="#回溯" class="headerlink" title="回溯"></a>回溯</h2><p>苏神在其博客中<a href="https://kexue.fm/archives/4256">中文分词系列</a>，提出：<strong>分词就是在相关性较弱的字符处，将文本截断</strong>，因而从切词的角度实现新词发现。只是之前的方法都只考虑了相邻2grams的相关性，而升级后的算法同时考虑了多字内部的凝固度（词在任一位置的相关性都是较强的）。从公式上来看依旧是：$min(\frac{p(abc)}{p(a)p(bc)},\frac{p(abc)}{p(ab)p(c)})$，但实现方式如下：  </p><ol><li>选取固定的n，在语料上统计2grams、3grams、…、ngrams，计算内部凝固度，保留大于阈值的结果，构成集合$G$。一般n越大，阈值越大，博客中使用{2:5, 3:25, 4:125}。实际使用中，可以通过总体的凝固度选择分位点</li><li>切分：用上述grams对语料进行切分（粗糙的分词），并统计频率。切分的规则是，只要一个片段出现在前一步得到的集合G中，这个片段就不切分，比如“各项目”，只要“各项”和“项目”都在$G$中，这时候就算“各项目”不在$G$中，那么“各项目”还是不切分，保留下来  </li><li>回溯：经过第二步，“各项目”会被切出来（因为第二步保证宁放过，不切错）。回溯就是检查，如果它是一个小于等于n字的词，那么检测它在不在$G$中，不在就出局；如果它是一个大于n字的词，那个检测它<strong>每个n字片段</strong>是不是在$G$中，只要有一个片段不在，就出局。还是以“各项目”为例，回溯就是看看，“各项目”在不在3gram中，不在的话，就得出局</li></ol><p>原先的方法是一个阈值，判断所有ngram的可能，而回溯则是计算n-1种切分各自的凝固度，每个凝固度都与阈值的判断，且能够满足大于n个字符的检验<br>笔者在在快消数据中，使用该回溯算法后发现，词的粒度很大概率会被切分得很细。原因是在快消数据中，很多概念都是已有短词的组合，如“屏障修护”，我们是不希望被切分成“屏障” + “修护”的，这两个词单独出现在业务上价值较低。因此回溯方法可能更适合法律、医疗等专业名词较多的行业</p><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li><p><a href="https://github.com/smoothnlp/SmoothNLP">smoothnlp</a><br>$L_{S}(EL,ER)&#x3D; ln\frac{EL·e^{ER}+ER·e^{EL}}{|EL-ER|}$</p></li><li><p><a href="https://zhuanlan.zhihu.com/p/210584733">hellonlp</a><br>$L_{S}(EL,ER)&#x3D; ln\frac{EL·e^{ER}+ER·e^{EL}}{|EL-ER|}$</p></li><li><p><a href="https://github.com/dongrixinyu/JioNLP">jinNLP</a></p></li></ul><p>下面是一些关键词抽取，在当前任务上效果不好，理由如开头所述</p><ul><li><p><a href="https://github.com/MaartenGr/KeyBERT">keybert</a> + <a href="https://towardsdatascience.com/enhancing-keybert-keyword-extraction-results-with-keyphrasevectorizers-3796fa93f4db">keyphrasevectorizers</a><br>keybert使用语义相似性来优化相关性，MMR来优化多样性。keyphrasevectorizers则使用词性信息，可以通过自定义词性pattern来产生特定结果  </p></li><li><p><a href="https://arxiv.org/abs/2105.14078">UCPhrase</a><br>使用深度学习的方式，弱监督地构造训练集，并训练二分类ner模型。原文使用社媒数据，出现相同hashtag的文本作为一个集合$S$，指定词长度n，统计该集合中出现大于2次的ngrams片段，作为正例，其余作为负例，采样构成数据集</p></li></ul><h2 id="词包分词"><a href="#词包分词" class="headerlink" title="词包分词"></a>词包分词</h2><p>有了新词发现的结果后，加入已有词包对文本进行分词。对于当前任务来说，由于宝贝标题是多个关键词的直接拼接，因此词的边界是很难区分的。如“雅诗兰黛保湿水润肤乳”，正常结果是“雅诗兰黛”、“保湿水”、“润肤乳”，但是很可能会分成“保湿”、“水润”、“肤乳”，需要额外设计算法处理</p><h1 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h1><ul><li>得根据业务的需求和数据的特征进行合理的算法选择，盲目追求新技术投入产出比未必高</li><li>在工业界，有时数据标准化处理比算法更重要</li><li>当不能简单地选择人工标注+模型时，如何无监督&#x2F;弱监督地启动一个项目，并且能够后期不断地提升效果，是一个算法工程师应该在项目初期就考虑的</li></ul>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>写博客的意义</title>
      <link href="/2022/11/01/%E5%86%99%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%84%8F%E4%B9%89/"/>
      <url>/2022/11/01/%E5%86%99%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%84%8F%E4%B9%89/</url>
      
        <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>&amp;emsp;&amp;emsp;昨晚准备开始写第一篇正式的博客《新词发现整理》时，发现自己并没有对要写的内容很熟悉，而是将做项目时搜集的一些资料又重新打开，然后准备将这些内容“搬运”到自己的博客上。在这时，突然意识到自己曾经在知乎上搜索过“如何将知识内化”这样的问题，而大多回答的主题都是：<strong>需要建立自己的知识体系，通过思考知识之间的关联去补充、迭代自己的知识体系，做到融会贯通</strong>。<br>&amp;emsp;&amp;emsp;虽然平时有在使用OneNote做笔记，然而大多数只是遇到问题后，google一下，然后将链接和解决方案记录下来。这种方法对于解决bug，积累经验来说固然是非常重要的。但是，现在既然希望能够通过写博客的方式转记录为输出，以此内化知识，那还是需要作出一些改变的，即使这样的改变在最初是不适应的。</p><h2 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h2><ul><li>首先是希望能够维护自己的博客，作为积累自己知识的容器</li><li>尝试“费曼学习法”，在努力将知识点梳理清楚的同时，迭代自己的知识体系</li><li>多年后回顾起来有些许回忆和成就感</li></ul><h2 id="共勉"><a href="#共勉" class="headerlink" title="共勉"></a>共勉</h2><p>&amp;emsp;&amp;emsp;<strong>你越功利，世界对你越神秘</strong>。所以希望慢一点，稳一点</p>]]></content>
      
      
      <categories>
          
          <category> 想法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My Test Blog</title>
      <link href="/2022/10/10/My-Test-Blog/"/>
      <url>/2022/10/10/My-Test-Blog/</url>
      
        <content type="html"><![CDATA[<h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><p>这是我的第一条原创博客，用来测试新建，发布</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/10/06/hello-world/"/>
      <url>/2022/10/06/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
